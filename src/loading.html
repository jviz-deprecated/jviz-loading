<!--
@license
Copyright (c) 2016 The Jviz Project Authors. All rights reserved.
The Jviz Project is under the MIT License. See https://github.com/jviz/jviz/blob/dev/LICENSE
-->
<script>
//Loading component
jviz.components.loading = { is: 'jviz-loading' };

//Properties
jviz.components.loading.properties = {};
jviz.components.loading.properties.loadingColor = { type: String, value: 'blue', reflectToAttribute: true, observer: 'update_color' };
jviz.components.loading.properties.loadingWidth = { type: String, value: '8px', reflectToAttribute: true, observer: 'update_width' };

//Ready event
jviz.components.loading.ready = function()
{
  //Set the actual color
  this.set_color(this.loadingColor);
};

//Set the color
jviz.components.loading.set_color = function(value)
{
  //Update the color value
  this.loadingColor = value;
};

//Get the actual color
jviz.components.loading.get_color = function()
{
  //Return the actual color
  return this.loadingColor;
};

//Update the loading color
jviz.components.loading.update_color = function(new_value, old_value)
{
  //Update the color
  //var color = window.getComputedStyle(document.querySelector('html')).getPropertyValue('--my-color');
  this.customStyle['--loading-color'] = jviz.colors(new_value);;

  //Update the styles
  this.updateStyles();
};

//Update the loading width
jviz.components.loading.update_width = function(new_value, old_value)
{
  //Get the real value
  var value = parseInt(new_value.replace('px', '').replace('%', ''));

  //Add the width value
  this.customStyle['--loading-width'] = value + 'px';

  //Update the dots space
  this.customStyle['--loading-space'] = (value + 5) + 'px';

  //Update the styles
  this.updateStyles();
};

</script>
